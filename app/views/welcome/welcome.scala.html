@(message: String, workshops: List[Workshop])

@import helper._

@main(message) {

@if(workshops.isEmpty()) {
	<div class="row-fluid workshop-bloc">
		<div class="span11 well">
			Il n'y a pas de workshops dans la liste
		</div>
	</div>
	
} else {
	@for(workshop <- workshops) { 
	<div class="row-fluid workshop-bloc">
		<div class="span11 well">
			<div class="row-fluid">
				<div class="span10">
					<h3>@workshop.getSubject</h3>
				</div>
			</div>
			<div class="span1 floatRight speakerPicture">
				@for(speaker <- workshop.getSpeakers()) { 
					<img width="48" height="48"
						src="@speaker.getPicture()" />
				}
				@if( AuthentificationController.getUser() != null && !workshop.getSpeakers().contains(AuthentificationController.getUser())) {
					<a href="@routes.WorkshopController.addSpeaker( workshop.getId )" title="Se proposer en tant que Speaker" >
						<img width="48" height="48"
							src="@routes.Assets.at("images/addUser.png")" />
					</a>
				}
				@if( AuthentificationController.getUser() != null && workshop.getSpeakers().contains(AuthentificationController.getUser())) {
					<a href="@routes.WorkshopController.removeSpeaker( workshop.getId )" title="Se retirer de la liste des Speakers" >
						<img width="48" height="48"
							src="@routes.Assets.at("images/removeUser.png")" />
					</a>
				}	
				
			</div>
			<div class="row-fluid">
				<div class="span3">
					<img width="140"
						src="http://ww1.prweb.com/prfiles/2012/02/17/9208636/gI_81373_html5_apps.png" />
				</div>
				<div class="span7">
					<p>
						@workshop.getDescription()
					</p>
				</div>
			</div>
			<div class="row-fluid">
				<span class="span10">
					Il y a @workshop.getPotentialParticipants().size() personne(s) intéressée(s) par ce workshop :
				</span>
			</div>
			<div class="row-fluid littleMarginTop">
				<span class="span10 participantPicture">
					@if( AuthentificationController.getUser() != null && !workshop.getPotentialParticipants().contains(AuthentificationController.getUser()) ) {
						<a href="@routes.WorkshopController.addParticipant( workshop.getId )" title="Je suis intéressé par ce Workshop" >
							<img width="32" height="32"
								src="@routes.Assets.at("images/addUser.png")" />
						</a>
					}
					@if( AuthentificationController.getUser() != null && workshop.getPotentialParticipants().contains(AuthentificationController.getUser()) ) {
						<a href="@routes.WorkshopController.removeParticipant( workshop.getId )" title="J'aimerai me retirer de la liste des gens intéressés par ce Workshop" >
							<img width="32" height="32"
								src="@routes.Assets.at("images/removeUser.png")" />
						</a>
					}
					@for(participant <- workshop.getPotentialParticipants()) { 
						<img width="32" height="32"
							src="@participant.getPicture()" />
					}
				</span>
			</div>
			<div class="row-fluid">
				
					<span class="floatRight clear">
						@form(routes.WorkshopController.actionWorkshop(workshop.getId)) {
							@if( AuthentificationController.isAuthenticatedUserAdmin() || AuthentificationController.isAuthor( workshop ) ) {
								<input class="btn-danger" type="submit" name="Supprimer" value="Supprimer">
								<input class="btn-info" type="submit" name="Modifier" value="Modifer">
							}
							@if( AuthentificationController.isAuthenticatedUserAdmin() ) {
								<input class="btn-success" type="submit" name="Planifier" value="Planifier">
							}
						}
					</span>
				
			</div>
		</div>
	</div>
	}
}
}
