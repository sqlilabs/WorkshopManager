@(message: String, workshops: List[Workshop])

@import helper._

@main(message) {

	@if(workshops.isEmpty()) {
		<div class="row-fluid workshop-bloc">
			<div class="span12 well">
				@Messages("welcome.no.workshops")
			</div>
		</div>
		
	} else {
		@for(workshop <- workshops) { 
			<div class="row-fluid workshop-bloc spaceAfter">
				<div class="span12 well">
					<div class="container-fluid">
						<div class="row-fluid">
							<div class="span3 workshopPicture">
								<img 
									src="@routes.Assets.at(workshop.getImage)" />
							</div>
							<div class="span9 spaceAfter">
								<h4>
									<a href="#" workshop-id="@workshop.getId">@workshop.getSubject</a>
								</h4>
								<div class="spaceAfter">
									@Html( WorkshopController.getWorkshopDescription(workshop) )
								</div>
								<div>
									<p><strong>@Messages("form.plan.workshop.last.speaker") : </strong> @workshop.getWorkshopSession().getSpeaker().getFirstName() @workshop.getWorkshopSession().getSpeaker().getLastName()</p>
									<p><strong>@Messages("form.plan.workshop.last.date") : </strong> @WorkshopController.decorateDate(workshop.getWorkshopSession().getNextPlay())</p>
								</div>
							</div>
						</div>
					
						<div class="row-fluid">
							<div class="span10">
								@Messages("plan.workshop.people.want.replay", workshop.getPotentialParticipants().size()) :
							</div>
						</div>
						
						<div class="row-fluid">
							<div class="span10 participantPicture">
								@if( AuthentificationController.getUser() != null && !workshop.getPotentialParticipants().contains(AuthentificationController.getUser()) ) {
									<a href="@routes.WorkshopController.addParticipant( workshop.getId )" title="@Messages("welcome.workshop.i.am.interested")" >
										<img width="32" height="32"
											src="@routes.Assets.at("images/addUser.png")" />
									</a>
								}
								@if( AuthentificationController.getUser() != null && workshop.getPotentialParticipants().contains(AuthentificationController.getUser()) ) {
									<a href="@routes.WorkshopController.removeParticipant( workshop.getId )" title="@Messages("welcome.workshop.i.am.not.interested")" >
										<img width="32" height="32"
											src="@routes.Assets.at("images/removeUser.png")" />
									</a>
								}
								@for(participant <- workshop.getPotentialParticipants()) { 
									<img width="32" height="32" title="@participant.getFirstName() @participant.getLastName()"
										src="@participant.getPicture()" />
								}
							</div>
						</div>
						@if( AuthentificationController.isAuthenticatedUserAdmin() ) {
							<div class="row">
								<div class="span2 offset10">
									@form(routes.WorkshopController.planWorkshop(workshop.getId)) {
										<input class="btn-success floatRight" type="submit" value="@Messages("form.plan.workshop.plan.again")" />
									}
								</div>
							</div>
						}
					</div>
					
				</div>
				<div id="workshop-details-@workshop.getId" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					@views.html.workshops.workshopDetailsPlayed( workshop )
				</div>
			</div>	
			}
		
	}
}
